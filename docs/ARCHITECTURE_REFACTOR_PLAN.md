# Архитектурный анализ и план рефакторинга

## 1. Анализ нарушений SOLID, KISS, DRY

### S — Single Responsibility Principle
- Крупные секции (CourseProgram, PricingPlans, FAQ) содержат и разметку, и бизнес-логику, и анимации, и работу с состоянием.
- PricingPlans: логика фильтрации валют, отображение карточек, работа с геолокацией — всё в одном компоненте.

### O — Open/Closed Principle
- Жёстко захардкоженные массивы валют, тарифов, вопросов.
- Логика фильтрации валют дублируется в нескольких местах.

### L — Liskov Substitution Principle
- Неявные зависимости между компонентами, отсутствие явной типизации пропсов.

### I — Interface Segregation Principle
- Крупные компоненты принимают слишком много пропсов или используют глобальные константы.

### D — Dependency Inversion Principle
- Компоненты напрямую импортируют и используют глобальные константы, утилиты, хуки.

### KISS
- Сложные условия и вложенные map/filter в компонентах.
- Логика фильтрации валют размазана по нескольким компонентам.
- Смешение анимаций, бизнес-логики и UI в одном компоненте.

### DRY
- Логика фильтрации валют дублируется в PricingPlans, Payment, FAQ.
- Списки валют, тарифов, вопросов дублируются в нескольких местах.
- Стили для кнопок, карточек, секций дублируются.

---

## 2. План по рефакторингу и разделению кода

### A. Вынести общие хуки и утилиты
- useAvailableCurrencies(location): возвращает массив валют по стране пользователя (использовать в PricingPlans, Payment, FAQ).
- useGeolocation: оставить как есть, использовать везде, где нужна страна пользователя.
- useIntersectionObserver: оставить как есть, использовать для анимаций.

### B. Разделить крупные секции на компоненты
- PricingPlans
  - PricingPlans (контейнер)
  - PricingPlanCard (отдельная карточка тарифа)
  - PaymentMethods (отдельный компонент для отображения валют)
- FAQ
  - FAQList (контейнер)
  - FAQItem (один вопрос-ответ)
- CourseProgram
  - CourseProgram (контейнер)
  - LessonCard (карточка урока)
  - StepsToSuccess (если есть)
- Footer
  - Footer (контейнер)
  - FooterNav (навигация)
  - FooterContacts (соц. иконки)
- Header
  - Header (контейнер)
  - HeaderNav (навигация)
  - HeaderMobileMenu (бургер-меню)

### C. Вынести константы и данные
- currencies.js — список валют, символы, названия.
- pricingPlans.js — тарифы.
- faqData.js — вопросы и ответы.
- lessons.js — уроки курса.

### D. Вынести общие стили
- Tailwind-компоненты для кнопок, карточек, секций.
- Общие классы для отступов, цветов, размеров.

### E. Улучшить типизацию
- Добавить PropTypes или TypeScript для всех компонентов.

---

## 3. Примеры мест для рефакторинга
- Логика фильтрации валют: вынести в utils/useAvailableCurrencies.js и использовать везде.
- Карточки тарифов, уроков, FAQ: создать универсальные компоненты Card, FAQItem, LessonCard.
- Анимации: создать HOC или компонент MotionSection.
- Стили кнопок: создать компонент Button с пропсами для вариаций.

---

## 4. Главные шаги для улучшения архитектуры
1. Вынести повторяющуюся логику (валюты, фильтрация, данные) в хуки и утилиты.
2. Разделить крупные секции на атомарные компоненты.
3. Вынести константы и данные в отдельные файлы.
4. Использовать единые компоненты для карточек, кнопок, секций.
5. Добавить типизацию пропсов.
6. Упростить условия и логику (KISS).
7. Проверить, чтобы каждый компонент отвечал только за одну задачу (SRP/SOLID).